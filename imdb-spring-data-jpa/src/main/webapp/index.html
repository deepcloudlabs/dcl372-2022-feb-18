<html>

<head>
	<title>Imdb Movie Search Page</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="js/lib/knockout-3.5.1.js"></script>
	<script src="js/imdb.js"></script>
</head>
<p>
<div class="container">
	<div class="card">
		<div class="card-header">
			<h3><span class="card-title">Search Movies</span></h3>
		</div>
		<div class="card-body">
			<div class="form-group">
				<label class="form-label" for="genre">Genre:</label>
				<select data-bind="options: genres, value: genre" class="form-select" id="genre">
				</select>
			</div>
			<div class="form-group">
				<label class="form-label" for="fromYear">From Year:</label>
				<input id="fromYear" class="form-control" type="number" data-bind="value: fromYear">
			</div>
			<div class="form-group">
				<label class="form-label" for="toYear">To Year:</label>
				<input id="toYear" class="form-control" type="number" data-bind="value: toYear">
			</div>			
			<div class="form-group">
				<button data-bind="click: list" class="btn btn-success">Search</button>
			</div>
		</div>
	</div>
	<p>
	<div class="card">
		<div class="card-header">
			<h3><span class="card-title">Movies</span></h3>
		</div>
		<div class="card-body">
			<table class="table table-success table-bordered table-responsive table-striped table-hover">
				<thead>
					<tr>
						<th>No</th>
						<th>Title</th>
						<th>Year</th>
						<th>Directors</th>
						<th>Genres</th>
					</tr>
				</thead>
				<tbody data-bind="foreach: {data: movies, as: 'movie'}">
					<tr>
						<td data-bind="text: $index() + 1"></td>
						<td><a data-bind="text: movie.title, attr: {'href': `http://www.imdb.com/title/${movie.imdb}`}" target="_blank"></a></td>
						<td data-bind="text: movie.year"></td>
						<td>
							<ul data-bind="foreach: {data: movie.directors, as: 'director'}">
								<li><a data-bind="text: director.name, attr: {'href': `http://www.imdb.com/name/${director.imdb}`}" target="_blank"></a></li>
							</ul>								
						</td>
						<td>
							<ul data-bind="foreach: {data: movie.genres, as: 'genre'}">
								<li data-bind="text: genre.description"></li>
							</ul>	
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

<body>

</body>

</html>